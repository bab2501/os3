
####################################################################
##### This file is automatically generated -- edit at your own risk
##### Built by ablaauwgeers@nevers
##### on Wed 4 Oct 12:42:44 CEST 2017 using template OS/Linux
##### in /home/ablaauwgeers/os3/cia/a5/sendmail-8.15.2/sendmail
####################################################################











































# location of sendmail statistics file (usually /etc/mail/ or /var/log)
STDIR= /etc/mail

# statistics file name
STFILE=	statistics
MSPSTFILE=sm-client.st

# full path to installed statistics file (usually ${STDIR}/statistics)
STPATH= ${STDIR}/${STFILE}

# location of sendmail helpfile file (usually /etc/mail)
HFDIR= /etc/mail

# full path to installed help file (usually ${HFDIR}/helpfile)
HFFILE= ${HFDIR}/helpfile
























# C compiler
CC=	cc
CCOPTS=   

# Linker for executables
CCLINK = cc
# Linker for libraries
LD=	ld
LDOPTS=	 
LDOPTS_SO= ${LDOPTS} -shared

# Shell
SHELL=	/bin/sh

# use O=-O (usual) or O=-g (debugging)
O=	-O2

# Object archiver
AR=     ar
AROPTS=	crv

# Remove command
RM=     rm
RMOPTS=	-f

# Link command
LN=     ln
LNOPTS=	-f -s

# Ranlib (or echo)
RANLIB= ranlib
RANLIBOPTS=	

# Object stripper
STRIP=	strip
STRIPOPTS=	

# environment definitions (e.g., -D_AIX3)
ENVDEF=   

# location of the source directory
SRCDIR=	../..

# include directories
INCDIRS=  -I${SRCDIR}/include 

# library directories
LIBDIRS=

# Additional libs needed
LIBADD= 

# libraries required on your system
LIBS= ${LIBADD} /home/ablaauwgeers/os3/cia/a5/sendmail-8.15.2/obj.Linux.4.10.0-33-generic.x86_64/libsmutil/libsmutil.a /home/ablaauwgeers/os3/cia/a5/sendmail-8.15.2/obj.Linux.4.10.0-33-generic.x86_64/libsm/libsm.a  -ldl 

# location of sendmail binary (usually /usr/sbin or /usr/lib)
BINDIR=	/usr/sbin

# location of "user" binaries (usually /usr/bin or /usr/ucb)
UBINDIR=/usr/bin

# location of "root" binaries (usually /usr/sbin or /usr/etc)
SBINDIR=/usr/sbin

# location of "root" binaries (usually /usr/sbin or /usr/etc)
MBINDIR=/usr/sbin

# location of "libexec" binaries (usually /usr/libexec or /usr/etc)
EBINDIR=/usr/sbin

# where to install include files (usually /usr/include)
INCLUDEDIR=/usr/include

# where to install library files (usually /usr/lib)
LIBDIR=/usr/lib

# additional .c files needed
SRCADD= 



# additional .o files needed
OBJADD=	
sendmailOBJADD=  

# copy files
CP= cp

# In some places windows wants nmake where unix would just want make
NMAKE=${MAKE}

###################  end of user configuration flags  ######################

BUILDBIN=${SRCDIR}/devtools/bin
COPTS=	-I. ${INCDIRS} ${ENVDEF} ${CCOPTS}
CFLAGS=	$O ${COPTS} 


BEFORE=	 sm_os.h

LINKS=

sendmailSRCS= main.c alias.c arpadate.c bf.c collect.c conf.c control.c convtime.c daemon.c deliver.c domain.c envelope.c err.c headers.c macro.c map.c mci.c milter.c mime.c parseaddr.c queue.c ratectrl.c readcf.c recipient.c sasl.c savemail.c sfsasl.c shmticklib.c sm_resolve.c srvrsmtp.c stab.c stats.c sysexits.c timers.c tls.c trace.c udb.c usersmtp.c util.c version.c  ${SRCADD}
sendmailOBJS= main.o alias.o arpadate.o bf.o collect.o conf.o control.o convtime.o daemon.o deliver.o domain.o envelope.o err.o headers.o macro.o map.o mci.o milter.o mime.o parseaddr.o queue.o ratectrl.o readcf.o recipient.o sasl.o savemail.o sfsasl.o shmticklib.o sm_resolve.o srvrsmtp.o stab.o stats.o sysexits.o timers.o tls.o trace.o udb.o usersmtp.o util.o version.o   ${OBJADD} ${sendmailOBJADD}
sendmailSMDEPLIBS= /home/ablaauwgeers/os3/cia/a5/sendmail-8.15.2/obj.Linux.4.10.0-33-generic.x86_64/libsm/libsm.a  /home/ablaauwgeers/os3/cia/a5/sendmail-8.15.2/obj.Linux.4.10.0-33-generic.x86_64/libsmutil/libsmutil.a 
sendmailTARGET_LINKS= ${DESTDIR}${UBINDIR}/newaliases ${DESTDIR}${UBINDIR}/mailq ${DESTDIR}${UBINDIR}/hoststat ${DESTDIR}${UBINDIR}/purgestat





NROFF=	groff -Tascii
MANDOC=	-man

INSTALL=install

# User binary ownership/permissions
UBINOWN=bin
UBINGRP=bin
UBINMODE=555

# Setuid binary ownership/permissions
SBINOWN=root
SBINGRP=bin
SBINMODE=4555

# Setgid binary ownership/permissions
GBINOWN=root
GBINGRP=smmsp
GBINMODE=2555

# owner of MSP queue
MSPQOWN=smmsp

# MTA binary ownership/permissions
MBINOWN=root
MBINGRP=bin
MBINMODE=550

# Library ownership/permissions
LIBOWN=root
LIBGRP=bin
LIBMODE=0444

# Include file ownership/permissions
INCOWN=root
INCGRP=bin
INCMODE=0444















MANOWN=	bin
MANGRP=	bin
MANMODE=444
MANROOT=/usr/man/man
MANROOTMAN=/usr/share/man/man
MAN1=	${MANROOT}1
MAN1MAN=${MANROOTMAN}1
MAN1EXT=1
MAN1SRC=0
MAN3=	${MANROOT}3
MAN3MAN=${MANROOTMAN}3
MAN3EXT=3
MAN3SRC=0
MAN4=	${MANROOT}4
MAN4MAN=${MANROOTMAN}4
MAN4EXT=4
MAN4SRC=0
MAN5=	${MANROOT}5
MAN5MAN=${MANROOTMAN}5
MAN5EXT=5
MAN5SRC=0
MAN8=	${MANROOT}8
MAN8MAN=${MANROOTMAN}8
MAN8EXT=8
MAN8SRC=0

MANPAGES= sendmail.${MAN8SRC} aliases.${MAN5SRC} mailq.${MAN1SRC} newaliases.${MAN1SRC} 





ALL=${BEFORE} ${LINKS} /home/ablaauwgeers/os3/cia/a5/sendmail-8.15.2/obj.Linux.4.10.0-33-generic.x86_64/libsm/libsm.a  /home/ablaauwgeers/os3/cia/a5/sendmail-8.15.2/obj.Linux.4.10.0-33-generic.x86_64/libsmutil/libsmutil.a  statistics  sendmail  ${MANPAGES} 

all: ${ALL}

clean: sendmail-clean 

SRCS=${sendmailSRCS} 
OBJS=${sendmailOBJS} 





VPATH=${srcdir}

check-TESTS: $(TESTS)
	@failed=0; all=0; xfail=0; xpass=0; \
	list='$(TESTS)'; \
	srcdir=$(srcdir); export srcdir; \
	if test -n "$$list"; then \
	  for tst in $$list; do \
	    if test -f ./$$tst; then dir=./; \
	    elif test -f $$tst; then dir=; \
	    else dir="$(srcdir)/"; fi; \
	    if $(TESTS_ENVIRONMENT) $${dir}$$tst; then \
	      all=`expr $$all + 1`; \
	      case " $(XFAIL_TESTS) " in \
	      *" $$tst "*) \
	        xpass=`expr $$xpass + 1`; \
	        failed=`expr $$failed + 1`; \
	        echo "XPASS: $$tst"; \
	      ;; \
	      *) \
	        echo "PASS: $$tst"; \
	      ;; \
	      esac; \
	    elif test $$? -ne 77; then \
	      all=`expr $$all + 1`; \
	      case " $(XFAIL_TESTS) " in \
	      *" $$tst "*) \
	        xfail=`expr $$xfail + 1`; \
	        echo "XFAIL: $$tst"; \
	      ;; \
	      *) \
	        failed=`expr $$failed + 1`; \
	        echo "FAIL: $$tst"; \
	      ;; \
	      esac; \
	    fi; \
	  done; \
	  if test "$$failed" -eq 0; then \
	    if test "$$xfail" -eq 0; then \
	      banner="All $$all tests passed"; \
	    else \
	      banner="All $$all tests behaved as expected ($$xfail expected failures)"; \
	    fi; \
	  else \
	    if test "$$xpass" -eq 0; then \
	      banner="$$failed of $$all tests failed"; \
	    else \
	      banner="$$failed of $$all tests did not behave as expected ($$xpass unexpected passes)"; \
	    fi; \
	  fi; \
	  dashes=`echo "$$banner" | sed s/./=/g`; \
	  echo "$$dashes"; \
	  echo "$$banner"; \
	  echo "$$dashes"; \
	  test "$$failed" -eq 0; \
	fi


check-am: all
	$(MAKE) $(check_PROGRAMS)
	$(MAKE) check-TESTS
check: check-am


SRCS_CHK=${SRCS_CHK} ${SRCS_CHK} 
OBJS_CHK=${OBJS} ${OBJS} 


install: install-hf  install-st  install-sendmail  install-docs 

install-strip: install-hf  install-st  install-sendmail  install-docs  strip-sendmail 



sm_os.h: ${SRCDIR}/include/sm/os/sm_os_linux.h
	${RM} ${RMOPTS} sm_os.h
	${LN} ${LNOPTS} ${SRCDIR}/include/sm/os/sm_os_linux.h sm_os.h




################  Dependency scripts
#	$Id: CC-M.m4,v 8.5 1999-05-27 22:03:28 peterh Exp $
depend: ${BEFORE} ${LINKS}
	@mv Makefile Makefile.old
	@sed -e '/^# Do not edit or remove this line or anything below it.$$/,$$d' < Makefile.old > Makefile
	@echo "# Do not edit or remove this line or anything below it." >> Makefile
	${CC} -M ${COPTS} ${SRCS} >> Makefile

#	End of $RCSfile: CC-M.m4,v $
################  End of dependency scripts

/home/ablaauwgeers/os3/cia/a5/sendmail-8.15.2/obj.Linux.4.10.0-33-generic.x86_64/libsm/libsm.a:
	(cd ${SRCDIR}/libsm; sh Build ${SENDMAIL_BUILD_FLAGS})

/home/ablaauwgeers/os3/cia/a5/sendmail-8.15.2/obj.Linux.4.10.0-33-generic.x86_64/libsmutil/libsmutil.a:
	(cd ${SRCDIR}/libsmutil; sh Build ${SENDMAIL_BUILD_FLAGS})

statistics:
	${CP} /dev/null statistics

${DESTDIR}/etc/mail/submit.cf:
	@echo "Please read INSTALL if anything fails while installing the binary."
	@echo "${DESTDIR}/etc/mail/submit.cf will be installed now."
	cd ${SRCDIR}/cf/cf && make install-submit-cf

MSPQ=/var/spool/clientmqueue

${DESTDIR}${MSPQ}:
	@echo "Please read INSTALL if anything fails while installing the binary."
	@echo "You must have setup a new user ${MSPQOWN} and a new group ${GBINGRP}"
	@echo "as explained in sendmail/SECURITY."
	mkdir -p ${DESTDIR}${MSPQ}
	chown ${MSPQOWN} ${DESTDIR}${MSPQ}
	chgrp ${GBINGRP} ${DESTDIR}${MSPQ}
	chmod 0770 ${DESTDIR}${MSPQ}



install-set-user-id: sendmail install-hf install-st install-docs
	${INSTALL} -c -o ${SBINOWN} -g ${SBINGRP} -m ${SBINMODE} sendmail ${DESTDIR}${MBINDIR}
	for i in ${sendmailTARGET_LINKS}; do \
		rm -f $$i; \
		${LN} ${LNOPTS} ${MBINDIR}/sendmail $$i; \
	done


install-sm-mta: sendmail
	${INSTALL} -c -o ${MBINOWN} -g ${MBINGRP} -m ${MBINMODE} sendmail ${DESTDIR}${MBINDIR}/sm-mta
	for i in ${DESTDIR}${UBINDIR}/newaliases ${DESTDIR}${UBINDIR}/mailq ${DESTDIR}${UBINDIR}/hoststat ${DESTDIR}${UBINDIR}/purgestat; do \
		rm -f $$i; \
		${LN} ${LNOPTS} ${MBINDIR}/sm-mta $$i; \
	done

install-hf:
	if [ ! -d ${DESTDIR}${HFDIR} ]; then mkdir -p ${DESTDIR}${HFDIR}; else :; fi
	${INSTALL} -c -o ${UBINOWN} -g ${UBINGRP} -m 444 helpfile ${DESTDIR}${HFFILE}

install-st: statistics
	if [ ! -d ${DESTDIR}${STDIR} ]; then mkdir -p ${DESTDIR}${STDIR}; else :; fi
	${INSTALL} -c -o ${SBINOWN} -g ${UBINGRP} -m 0600 statistics ${DESTDIR}${STPATH}

install-submit-st: statistics ${DESTDIR}${MSPQ}
	${INSTALL} -c -o ${MSPQOWN} -g ${GBINGRP} -m 0600 statistics ${DESTDIR}${MSPQ}/${MSPSTFILE}


sendmail: ${sendmailOBJS} ${sendmailSMDEPLIBS}
	${CCLINK} -o sendmail ${LDOPTS} ${LIBDIRS} ${sendmailOBJS} ${LIBS}



install-sendmail: sendmail ${DESTDIR}/etc/mail/submit.cf ${DESTDIR}${MSPQ}
	
	${INSTALL} -c -o ${GBINOWN} -g ${GBINGRP} -m ${GBINMODE} sendmail ${DESTDIR}${BINDIR}
	for i in ${sendmailTARGET_LINKS}; do \
		rm -f $$i; \
		ln -s ${BINDIR}/sendmail $$i; \
	done


strip-sendmail: sendmail
	${STRIP} ${STRIPOPTS} ${DESTDIR}${BINDIR}/sendmail

sendmail-clean:
	rm -f ${OBJS} sendmail ${MANPAGES}

sendmail.${MAN8SRC}: sendmail.8
	${NROFF} ${MANDOC} sendmail.8 > sendmail.${MAN8SRC} || ${CP} sendmail.${MAN8SRC}.dist sendmail.${MAN8SRC}

aliases.${MAN5SRC}: aliases.5
	${NROFF} ${MANDOC} aliases.5 > aliases.${MAN5SRC} || ${CP} aliases.${MAN5SRC}.dist aliases.${MAN5SRC}

mailq.${MAN1SRC}: mailq.1
	${NROFF} ${MANDOC} mailq.1 > mailq.${MAN1SRC} || ${CP} mailq.${MAN1SRC}.dist mailq.${MAN1SRC}

newaliases.${MAN1SRC}: newaliases.1
	${NROFF} ${MANDOC} newaliases.1 > newaliases.${MAN1SRC} || ${CP} newaliases.${MAN1SRC}.dist newaliases.${MAN1SRC}



install-docs: ${MANPAGES}
	
	${INSTALL} -c -o ${MANOWN} -g ${MANGRP} -m ${MANMODE} sendmail.${MAN8SRC} ${DESTDIR}${MAN8}/sendmail.${MAN8EXT}
	
	${INSTALL} -c -o ${MANOWN} -g ${MANGRP} -m ${MANMODE} aliases.${MAN5SRC} ${DESTDIR}${MAN5}/aliases.${MAN5EXT}
	
	${INSTALL} -c -o ${MANOWN} -g ${MANGRP} -m ${MANMODE} mailq.${MAN1SRC} ${DESTDIR}${MAN1}/mailq.${MAN1EXT}
	
	${INSTALL} -c -o ${MANOWN} -g ${MANGRP} -m ${MANMODE} newaliases.${MAN1SRC} ${DESTDIR}${MAN1}/newaliases.${MAN1EXT}

